<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contatti - MA Tech</title>
  <link rel="stylesheet" href="css/main.css">

  <!-- Font Awesome per icone flottanti -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Header e Footer -->
  <script src="components/header.js" defer></script>
  <script src="components/footer.js" defer></script>
</head>
<body>

  <!-- Header -->
  <header-component></header-component>

  <!-- Hero -->
  <section class="hero contatti-hero gradient-hero">
    <div class="floating-icons">
      <i class="fas fa-phone float-icon" style="--i:1"></i>
      <i class="fas fa-envelope float-icon" style="--i:2"></i>
      <i class="fas fa-map-marker-alt float-icon" style="--i:3"></i>
      <i class="fas fa-comments float-icon" style="--i:4"></i>
      <i class="fas fa-mobile-alt float-icon" style="--i:5"></i>
      <i class="fas fa-fax float-icon" style="--i:6"></i>
      <i class="fas fa-globe float-icon" style="--i:7"></i>
      <i class="fas fa-user float-icon" style="--i:8"></i>
    </div>
    <div class="hero-content">
      <h1>Mettiti in contatto con noi</h1>
      <p>Vuoi parlare con il nostro team? Compila il modulo o utilizza i nostri riferimenti diretti.</p>
    </div>
  </section>

  <!-- Sezione Contatti -->
  <section class="content-overlay contatti-section">
    <div class="contatti-columns">
      
      <!-- Modulo -->
      <div class="contatti-card fade-left">
        <h2>Scrivici un messaggio</h2>
        <form class="contatti-form" id="contactForm" data-endpoint="https://formspree.io/f/xblzlrwg">
          <label for="nome">Nome</label>
          <input type="text" id="nome" name="nome" required>

          <label for="email">Email</label>
          <input type="email" id="email" name="email" required>

          <label for="messaggio">Messaggio</label>
          <textarea id="messaggio" name="messaggio" rows="5" required></textarea>

          <button type="submit" class="btn">Invia</button>
        </form>
        <p id="form-status" class="form-status" aria-live="polite"></p>
      </div>

      <!-- Info dirette -->
      <aside class="contatti-info fade-right">
        <h2>Contatti diretti</h2>
        <ul>
          <li><strong>Email:</strong> maleventumsoftware@gmail.com</li>
          <li><strong>Telefono:</strong> +39 333 7698626 - +39 327 7545532</li>
          <li><strong>Sede:</strong> Via Roma 123, Milano</li>
        </ul>
      </aside>

    </div>
  </section>

  <!-- CTA -->
  <section class="cta contatti-cta">
    <h2>Vuoi parlarne subito?</h2>
    <p>Il nostro team è pronto a rispondere alle tue domande e a valutare insieme le tue esigenze.</p>
    <a href="tel:+393277545532" class="btn">Chiamaci ora</a>
  </section>

  <!-- Footer -->
  <footer-component></footer-component>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('contactForm');
      if (!form) return;

      const endpoint = form.dataset.endpoint;
      if (!endpoint) return;

      const statusEl = document.getElementById('form-status');
      const submitBtn = form.querySelector('button[type="submit"]');

      form.addEventListener('submit', async (event) => {
        event.preventDefault();

        statusEl.textContent = 'Invio in corso…';
        statusEl.className = 'form-status pending';
        if (submitBtn) submitBtn.disabled = true;

        try {
          const response = await fetch(endpoint, {
            method: 'POST',
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
          });

          if (response.ok) {
            statusEl.textContent = '✅ Messaggio inviato correttamente!';
            statusEl.className = 'form-status success';
            form.reset();
          } else {
            statusEl.textContent = '❌ Si è verificato un errore, riprova.';
            statusEl.className = 'form-status error';
          }
        } catch (error) {
          statusEl.textContent = '⚠️ Errore di connessione.';
          statusEl.className = 'form-status error';
        } finally {
          if (submitBtn) submitBtn.disabled = false;
        }
      });
    });
  </script>

</body>
</html>
